# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: "http://devicetree.org/schemas/misc/intel,intel_tsens.yaml#"
$schema: "http://devicetree.org/meta-schemas/core.yaml#"

title: Intel Temperature sensors in Bay series

maintainers:
  - Udhayakumar C <udhayakumar.c@intel.com>

description: |
  The tsens driver enables reading of onchip sensors present
  in the Intel Bay SoC.
  Each subnode of the tsens represents sensors available
  on the soc.

select: false

properties:
  compatible:
    items:
      - const: intel,intel-tsens

  plat_name:
    contains:
      enum:
        - intel,keembay_thermal

  reg:
    minItems: 1
    maxItems: 2

  clocks:
    items:
      - description: thermal sensor clock

  clk-rate:
    minItems: 1
    maxItems: 1
    additionalItems: false
    items:
      - description: thermal sensor clock freq

  sensor_name:
    type: object
    description:
      Details to configure sensor trip points and its types.

    properties:
      passive_delay:
        minItems: 1
        maxItems: 1
        description: number of milliseconds to wait between polls when
                     performing passive cooling

      polling_delay:
        minItems: 1
        maxItems: 1
        description: number of milliseconds to wait between polls when checking
                     whether trip points have been crossed (0 for interrupt
                     driven systems)

      trip_temp:
        minItems: 1
        description: temperature for trip points

      trip_type:
        minItems: 1
        description: trip type list for trip points

    required:
      - passive_delay
      - polling_delay
      - trip_temp
      - trip_type

required:
  - compatible

additionalProperties: false

examples:
  - |
    tsens: tsens@20260000 {
        compatible = "intel,intel-tsens";
        status = "disabled";
        #address-cells = <2>;
        #size-cells = <2>;
        plat_name = "intel,keembay_thermal";
        reg = <0x0 0x20260000 0x0 0x100>;
        clocks = <&scmi_clk>;
        clk-rate = <1250000>;

        mss {
                passive_delay = <1000>;
                polling_delay = <2000>;
                trip_temp = <40000 80000 1000000>;
                trip_type = "passive", "passive", "critical";
        };

        css {
                passive_delay = <1000>;
                polling_delay = <2000>;
                trip_temp = <40000 80000 1000000>;
                trip_type = "passive", "passive", "critical";
        };

        nce {
                passive_delay = <1000>;
                polling_delay = <2000>;
                trip_temp = <40000 80000 1000000>;
                trip_type = "passive", "passive", "critical";
        };

        soc {
                passive_delay = <1000>;
                polling_delay = <2000>;
                trip_temp = <40000 80000 1000000>;
                trip_type = "passive", "passive", "critical";
        };
     };
